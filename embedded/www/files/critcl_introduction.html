
<html><head>
<title>critcl_introduction - C Runtime In Tcl (CriTcl)</title>
<style type="text/css"><!--
    HTML {
	background: 	#FFFFFF;
	color: 		black;
    }
    BODY {
	background: 	#FFFFFF;
	color:	 	black;
    }
    DIV.doctools {
	margin-left:	10%;
	margin-right:	10%;
    }
    DIV.doctools H1,DIV.doctools H2 {
	margin-left:	-5%;
    }
    H1, H2, H3, H4 {
	margin-top: 	1em;
	font-family:	sans-serif;
	font-size:	large;
	color:		#005A9C;
	background: 	transparent;
	text-align:		left;
    }
    H1.title {
	text-align: center;
    }
    UL,OL {
	margin-right: 0em;
	margin-top: 3pt;
	margin-bottom: 3pt;
    }
    UL LI {
	list-style: disc;
    }
    OL LI {
	list-style: decimal;
    }
    DT {
	padding-top: 	1ex;
    }
    UL.toc,UL.toc UL, UL.toc UL UL {
	font:		normal 12pt/14pt sans-serif;
	list-style:	none;
    }
    LI.section, LI.subsection {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding: 	0em;
    }
    PRE {
	display: 	block;
	font-family:	monospace;
	white-space:	pre;
	margin:		0%;
	padding-top:	0.5ex;
	padding-bottom:	0.5ex;
	padding-left:	1ex;
	padding-right:	1ex;
	width:		100%;
    }
    PRE.example {
	color: 		black;
	background: 	#f5dcb3;
	border:		1px solid black;
    }
    UL.requirements LI, UL.syntax LI {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding:	0em;
    }
    DIV.synopsis {
	color: 		black;
	background: 	#80ffff;
	border:		1px solid black;
	font-family:	serif;
	margin-top: 	1em;
	margin-bottom: 	1em;
    }
    UL.syntax {
	margin-top: 	1em;
	border-top:	1px solid black;
    }
    UL.requirements {
	margin-bottom: 	1em;
	border-bottom:	1px solid black;
    }
--></style>
</head>
<! -- Generated from file '/home/aku/Projects/Critcl/dev-critcl/embedded/www/files/critcl_introduction.html' by tcllib/doctools with format 'html'
   -->
<! -- Copyright &copy; Jean-Claude Wippler   -- Copyright &copy; Steve Landers   -- Copyright &copy; 2011 Andreas Kupries
   -->
<! -- CVS: $Id$ critcl_introduction.n
   -->
<body><div class="doctools">
<hr> [
  <a href="../toc.html">Table Of Contents</a>
| <a href="../index.html">Keyword Index</a>
] <hr>
<h1 class="title">critcl_introduction(n) 3 doc &quot;C Runtime In Tcl (CriTcl)&quot;</h1>
<div id="name" class="section"><h2><a name="name">Name</a></h2>
<p>critcl_introduction - Introduction To CriTcl</p>
</div>
<div id="toc" class="section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="toc">
<li class="section"><a href="#toc">Table Of Contents</a></li>
<li class="section"><a href="#section1">Description</a></li>
<li class="section"><a href="#section2">Related Documents</a></li>
<li class="section"><a href="#section3">Modes Of Operation/Use</a></li>
<li class="section"><a href="#section4">System Architecture</a></li>
<li class="section"><a href="#section5">Examples</a></li>
<li class="section"><a href="#section6">Changes for version 2.1</a></li>
<li class="section"><a href="#section7">Changes for version 3</a></li>
<li class="section"><a href="#section8">Changes for version 3.0.1</a></li>
<li class="section"><a href="#section9">Changes for version 3.0.2</a></li>
<li class="section"><a href="#section10">Changes for version 3.0.3</a></li>
<li class="section"><a href="#section11">Changes for version 3.0.4</a></li>
<li class="section"><a href="#section12">Changes for version 3.0.5</a></li>
<li class="section"><a href="#section13">Changes for version 3.1</a></li>
<li class="section"><a href="#section14">Authors</a></li>
<li class="section"><a href="#section15">Bugs, Ideas, Feedback</a></li>
<li class="section"><a href="#keywords">Keywords</a></li>
<li class="section"><a href="#category">Category</a></li>
<li class="section"><a href="#copyright">Copyright</a></li>
</ul>
</div>
<div id="section1" class="section"><h2><a name="section1">Description</a></h2>
<p>Welcome to the <i class="term">C Runtime In Tcl</i>, <i class="term"><a href="critcl_pkg.html">CriTcl</a></i> for short, a
system to build C extension packages for Tcl on the fly, from C code
embedded within Tcl scripts, for all who wish to make their code go
faster.</p>
<p>CriTcl started life as an experiment by Jean-Claude Wippler and was a
self-contained Tcl package to build C code into a Tcl/Tk extension on
the fly. It was somewhat inspired by Brian Ingerson's <i class="term">Inline</i>
for <i class="term">Perl</i>, but is considerably more lightweight.</p>
<p>It is for the last 5% to 10% when pure Tcl, which does go a long way,
is not sufficient anymore. I.e. for</p>
<ol class="enumerated">
<li><p>when the last bits of performance are needed,</p></li>
<li><p>access to 3rd party libraries,</p></li>
<li><p>hiding critical pieces of your library or application, and</p></li>
<li><p>simply needing features provided only by C.</p></li>
</ol>
<p>The following sections first reference a few related documents
which may or may not be of interest to you, depending on if you are
just a plain user of the system, trying to get and build/install it,
or are going deep into the internals for either edification or
modification.</p>
<p>This is followed by an introduction to the modes of operation
supported by the system, and its general architecture as seen by a
user.</p>
</div>
<div id="section2" class="section"><h2><a name="section2">Related Documents</a></h2>
<ol class="enumerated">
<li><p><i class="term"><a href="license.html">Critcl - License</a></i>.</p></li>
<li><p><i class="term"><a href="critcl_usingit.html">Using CriTcl</a></i></p></li>
<li><p><i class="term"><a href="critcl_sources.html">Critcl - How To Get The Sources</a></i>.</p></li>
<li><p><i class="term"><a href="critcl_installer.html">Critcl - The Installer's Guide</a></i>.</p></li>
<li><p><i class="term"><a href="critcl_devguide.html">Critcl - The Developer's Guide</a></i>.</p></li>
</ol>
</div>
<div id="section3" class="section"><h2><a name="section3">Modes Of Operation/Use</a></h2>
<p>CriTcl can be used in three different modes of operation, called</p>
<ol class="enumerated">
<li><p><i class="term"><a href="../index.html#key0">Compile &amp; Run</a></i>, and</p></li>
<li><p><i class="term"><a href="../index.html#key9">Generate Package</a></i></p></li>
<li><p><i class="term">Generate TEA Package</i></p></li>
</ol>
<p>Of these three <i class="term"><a href="../index.html#key0">Compile &amp; Run</a></i> came first and is the default
when using the package directly. In that case the package collects the
C fragments, builds them as needed, and caches the results for quick
reuse when the same code is used in the future again.</p>
<p>The second mode, <i class="term"><a href="../index.html#key9">Generate Package</a></i>, was introduced to enable
the creation of (prebuilt) deliverable packages which do not depend on
the existence of a build system, i.e. C compiler, on the target
machine.
This was originally done through the experimental <b class="cmd">Critbind</b> tool,
and is now handled by the <i class="term"><a href="critcl_app.html">CriTcl Application</a></i>, also named
<b class="cmd"><a href="critcl_pkg.html">critcl</a></b>.</p>
<p>Newly introduced with Critcl version 3 is
<i class="term">Generate TEA Package</i>. This mode constructs a directory
hierarchy from the package which can later be built like a regular TEA
package, i.e. using</p>
<pre class="example">
	.../configure --prefix ...
	make all isntall
</pre>
</div>
<div id="section4" class="section"><h2><a name="section4">System Architecture</a></h2>
<p>The system consists of two main layers, as seen in the figure below,
plus a support layer containing general packages the system uses during
operation.</p>
<p><img alt="architecture" src="../image/architecture.png"></p>
<ol class="enumerated">
<li><p>At the top we have an application built on top of the core packages,
providing command line access to the second and third usage modes,
i.e. <i class="term"><a href="../index.html#key9">Generate Package</a></i> and <i class="term">Generate TEA Package</i>.</p>
<dl class="definitions">
<dt><b class="syscmd"><a href="critcl_pkg.html">critcl</a></b></dt>
<dd></dd>
<dt><b class="package"><a href="critcl_apppkg.html">critcl::app</a></b></dt>
<dd></dd>
</dl>
</li>
<li><p>Below that is the core package providing the essential functionality
of the system, plus various utility packages which make common tasks
more convenient.</p>
<dl class="definitions">
<dt><b class="package"><a href="critcl_pkg.html">critcl</a></b></dt>
<dd></dd>
<dt><b class="package"><a href="critcl_util.html">critcl::util</a></b></dt>
<dd></dd>
</dl>
</li>
<li><p>Lastly a layer of supporting packages, mostly external to critcl.</p>
<dl class="definitions">
<dt><b class="package">md5</b></dt>
<dd><p>For this pure-Tcl package to be fast users should get one of several
possible accelerator packages:</p>
<ol class="enumerated">
<li><p><b class="package">tcllibc</b></p></li>
<li><p><b class="package">Trf</b></p></li>
<li><p><b class="package">md5c</b></p></li>
</ol></dd>
<dt><b class="package">cmdline</b></dt>
<dd></dd>
<dt><b class="package">platform</b></dt>
<dd></dd>
<dt><b class="package">stubs::container</b></dt>
<dd></dd>
<dt><b class="package">stubs::reader</b></dt>
<dd></dd>
<dt><b class="package">stubs::writer</b></dt>
<dd></dd>
<dt><b class="package">stubs::gen</b></dt>
<dd></dd>
<dt><b class="package">stubs::gen::init</b></dt>
<dd></dd>
<dt><b class="package">stubs::gen::header</b></dt>
<dd></dd>
<dt><b class="package">stubs::gen::decl</b></dt>
<dd></dd>
<dt><b class="package">stubs::gen::macro</b></dt>
<dd></dd>
<dt><b class="package">stubs::gen::slot</b></dt>
<dd></dd>
<dt><b class="package">stubs::gen::lib</b></dt>
<dd></dd>
</dl>
</li>
</ol>
</div>
<div id="section5" class="section"><h2><a name="section5">Examples</a></h2>
<p>The sources of Critcl, should you have gotten them, contain
several larger examples show-casing various aspects of the
system. These demonstration packages can all be found in the
sub-directory &quot;<b class="file">examples/</b>&quot; of the sources.</p>
<p>Lots of smaller examples can be found in the document
<i class="term"><a href="critcl_usingit.html">Using CriTcl</a></i>, an introduction to Critcl by way of a of
examples. These focus more on specific critcl commands than the
overall picture shown by the large examples mentioned in the previous
paragraph.</p>
</div>
<div id="section6" class="section"><h2><a name="section6">Changes for version 2.1</a></h2>
<ol class="enumerated">
<li><p>Fixed bug where <b class="cmd">critcl::tsources</b> interpreted relative
paths as relative to the current working directory instead of
relative to the &quot;<b class="file">.critcl</b>&quot; file using the command, as all other
commands of this type do.</p></li>
<li><p>Fixed internals, preventing information collected for multiple
&quot;<b class="file">.critcl</b>&quot; files to leak between them. Notably, <b class="cmd">critcl::tk</b>
is not a global configuration option anymore.</p></li>
<li><p>Fixed the command <b class="cmd">critcl::license</b> to be a null-operation
in mode &quot;compile &amp; run&quot;, instead of throwing an error.</p></li>
<li><p>Fixed the critcl application's interference with the &quot;compile &amp;
run&quot; result cache in <b class="option">-pkg</b> mode by having it use a wholly
separate (and by default transient) directory for that mode.</p></li>
<li><p>Fixed bug where changes to a &quot;<b class="file">.critcl</b>&quot; file did not result
in a rebuild for mode &quot;compile &amp; run&quot;. All relevant API commands now
ensure UUID changes.</p></li>
<li><p>Fixed bug in the backend handling of <b class="cmd">critcl::debug</b> where
the companion c-sources of a &quot;<b class="file">.critcl</b>&quot; file were not compiled
with debug options, although the &quot;<b class="file">.critcl</b>&quot; file was.</p></li>
<li><p>Fixed bug in <b class="cmd">critcl::debug</b> which prevented recognition of
mode &quot;all&quot; when it was not the first argument to the command.</p></li>
<li><p>Fixed bug in &quot;<b class="file">preload.c</b>&quot; preventing its compilation on
non-windows platforms.</p></li>
<li><p>Fixed long-standing bug in the handling of namespace qualifiers
in the command name argument of <b class="cmd">critcl::cproc</b> and
<b class="cmd">critcl::ccommand</b>. It is now possible to specify a fully
qualified command name without issues.</p></li>
<li><p>Extended/reworked <b class="cmd">critcl::tsources</b> to be the canonical
way of declaring &quot;<b class="file">.tcl</b>&quot; companion files even for mode &quot;compile &amp;
run&quot;.</p></li>
<li><p>Extended/reworked <b class="cmd">critcl::tsources</b> to allow the use of a
&quot;<b class="file">.critcl</b>&quot; file as its own Tcl companion file.</p></li>
<li><p>Extended <b class="cmd">critcl::framework</b> to internally check for OS X
build target, and to ignore the declaration if its not.</p></li>
<li><p>Extended <b class="cmd">critcl::failed</b> to be callable more than once in
a &quot;<b class="file">.critcl</b>&quot; file. The first call forces the build, if it was not
done already, to get the result. Further calls return the cached
result of the first call.</p></li>
<li><p>Extended the handling of environment variable CC in the code
determining the compiler to use to deal with (i.e. remove) paths to
the compiler, compiler file extensions, and compiler options specified
after the compiler itself, leaving only the bare name of the compiler.</p></li>
<li><p>Extended the code handling the search for preloaded libraries
to print the paths it searched, making debugging of a search failure
easier.</p></li>
<li><p>A new command <b class="cmd">critcl::tcl</b> can be used to declare the
version of Tcl minimally needed to build and run the &quot;<b class="file">.critcl</b>&quot;
file and package. Defaults to 8.4 if not declared. Extended critcl to
have the stubs and headers for all of Tcl 8.4, 8.5, and 8.6.</p></li>
<li><p>A new command <b class="cmd">critcl::load</b> forces the build and load of a
&quot;<b class="file">.critcl</b>&quot; file. This is the official way for overriding critcl's
default lazy-build-&amp;-load-on-demand scheme for mode &quot;compile &amp; run&quot;.</p>
<p><em>Note</em> that after using <b class="cmd">critcl::load</b> /
<b class="cmd">critcl::failed</b> in a &quot;<b class="file">.critcl</b>&quot; file it is not possible to
use critcl commands in that file anymore. Doing so will throw an
error.</p></li>
<li><p>Extended the generation of '#line' pragmas to use
<b class="cmd">info frame</b> (if available) to provide the C compiler with exact
line numbers into the &quot;<b class="file">.critcl</b>&quot; file for the reporting of
warnings and errors.</p></li>
<li><p>Extended <b class="cmd">critcl::check</b> with logging to help with
debugging build-time checks of the environment, plus an additional
optional argument to provide labeling.</p></li>
<li><p>Added a new command <b class="cmd">critcl::checklink</b> which not only
tries to check the environment via compiling the code, but also
its linkability.</p></li>
<li><p>Added a new command <b class="cmd">critcl::msg</b> for messaging, like
command <b class="cmd">critcl::error</b> is for error reporting. Likewise this is a
hook a user of the package is allowed to override. The default
implementation, used by mode <i class="term"><a href="../index.html#key0">compile &amp; run</a></i> does nothing. The
implementation for mode <i class="term"><a href="../index.html#key9">generate package</a></i> prints the message
to stdout.</p>
<p>Envisioned use is for the reporting of results determined by
<b class="cmd">critcl::check</b> and <b class="cmd">critcl::checklink</b> during building, to
help with debugging when something goes wrong with a check.</p></li>
<li><p>Exposed the argument processing internals of <b class="cmd">critcl::proc</b>
for use by advanced users. The new commands are</p>
<ol class="enumerated">
<li><p><b class="cmd">critcl::argnames</b></p></li>
<li><p><b class="cmd">critcl::argcnames</b></p></li>
<li><p><b class="cmd">critcl::argcsignature</b></p></li>
<li><p><b class="cmd">critcl::argvardecls</b></p></li>
<li><p><b class="cmd">critcl::argconversion</b></p></li>
</ol>
<p>Please see section <em>Advanced Embedded C Code</em> of the
<b class="package"><a href="critcl_pkg.html">critcl</a></b> package documentation for details.</p></li>
<li><p>Extended the critcl package to intercept <b class="cmd">package
provide</b> and record the file -&gt; package name mapping. Plus other
internal changes now allow the use of namespaced package names while
still using proper path names and init function.</p></li>
<li><p>Dropped the unused commands <b class="cmd">critcl::optimize</b> and
<b class="cmd">critcl::include</b>.</p></li>
<li><p>Dropped <b class="option">-lib</b> mode from the critcl application.</p></li>
<li><p>Dropped remnants of support for Tcl 8.3 and before.</p></li>
</ol>
</div>
<div id="section7" class="section"><h2><a name="section7">Changes for version 3</a></h2>
<ol class="enumerated">
<li><p>The command <b class="cmd">critcl::platform</b> was deprecated in version
2.1, superceded by <b class="cmd">critcl::targetplatform</b>, yet kept for
compatibility. Now it has been removed.</p></li>
<li><p>The command <b class="cmd">critcl::compiled</b> was kept with in version 2.1
with semantics in contradiction to its, for compatibility. This
contradiction has been removed, changing the visible semantics of the
command to be in line with its name.</p></li>
<li><p>The change to version 3 became necessary because of the two
incompatible visible changes above.</p></li>
<li><p>Extended the application package with code handling a new
option <b class="option">-tea</b>. Specifying this option invokes a special mode
where critcl generates a TEA package, i.e. wraps the input into a
directory hierarchy and support files which provide it TEA-lookalike
buildsystem.</p>
<p>This new option, and <b class="option">-pkg</b>, exclude each other. If
both are specified the last used option takes precedence.</p>
<p>The generated package directory hierarchy is mostly
self-contained, but not fully. It requires not only a working
installation of Tcl, but also working installations of the packages
<b class="package">md5</b> and <b class="package">cmdline</b>. Both of these are provided by the
<b class="package">Tcllib</b> bundle. Not required, but recommended to have
installed are any of the packages which can accelerate md5's
operation, i.e. <b class="package">cryptkit</b>, <b class="package">tcllibc</b>, or
<b class="package">Trf</b>.</p></li>
<li><p>Extended the critcl package with a new command
<b class="cmd">critcl::scan</b> taking the path to a &quot;<b class="file">.critcl</b>&quot; file,
statically scanning it, and returning license, version, a list of its
companion files, list of imported APIs, and list of
developer-specified custom configuration options. This data is the
foundation for the TEA wrapping described above.</p>
<p>Note that this is a <em>static</em> scan. While the other build
modes can (must) execute the &quot;<b class="file">.critcl</b>&quot; file and make
platform-specific decisions regarding the assembled C code, companion
files, etc. the TEA wrap mode is not in a position to make
platform-specific decisions. It has to wrap everything which might
conceivably be needed when actually building. Hence the static scan.
This has however its own set of problems, namely the inability to
figure out any dynamic construction of companion file paths, at least
on its own. Thus:</p></li>
<li><p>Extended the API used by critcl-based packages with the command
<b class="cmd">critcl::owns</b>. While this command is ignored by the regular build
modes the static scanner described above takes its arguments as the
names of companion files which have to be wrapped into the TEA package
and could not be figured by the scanner otherwise, like because of
dynamic paths to <b class="cmd">critcl::tsources</b>, <b class="cmd">critcl::csources</b>,
getting sourced directly, or simply being adjunct datafiles.</p></li>
<li><p>Extended the API used by critcl-based packages with the command
<b class="cmd">critcl::api</b> for the management of stubs tables, be it their use,
and/or declaration and export.</p>
<p>Please see section <em>Stubs Table Management</em> of the
<b class="package"><a href="critcl_pkg.html">critcl</a></b> package documentation for details.</p></li>
<li><p>Extended the API used by critcl-based packages with the command
<b class="cmd">critcl::userconfig</b> for the management of developer-specified
custom configuration options, be it their use and/or declaration.</p>
<p>Please see section <em>Custom Build Configuration</em> of the
<b class="package"><a href="critcl_pkg.html">critcl</a></b> package documentation for details.</p></li>
<li><p>Extended the API used by critcl-based packages with the
commands <b class="cmd">critcl::description</b>, <b class="cmd">critcl::summary</b>,
<b class="cmd">critcl::subject</b>, <b class="cmd">critcl::meta</b>, and
<b class="cmd">critcl::buildrequirement</b> for the declaration of TEApot meta data
for/about the package.</p>
<p>Please see section <em>Package Meta Data</em> of the
<b class="package"><a href="critcl_pkg.html">critcl</a></b> package documentation for details.</p></li>
</ol>
</div>
<div id="section8" class="section"><h2><a name="section8">Changes for version 3.0.1</a></h2>
<ol class="enumerated">
<li><p>Bugfixes all around. In detail:</p></li>
<li><p>Fixed recording of Tcl version requirements. Keep package name
and version together, unbreaking generated meta data and generated
package load command.</p></li>
<li><p>Fixed the build scripts: When installing, or wrapping for TEA,
generate any missing directories</p></li>
<li><p>Modified the build scripts to properly exit the application
when the window of their GUI is closed through the (X) button.</p></li>
<li><p>Removed an 8.5-ism (open wb) which had slipped into the main
build script.</p></li>
<li><p>Modified the example build scripts to separate the output for
the different examples (and packages) by adding empty lines.</p></li>
<li><p>stack::c example bugfix: Include API declarations for use in
the companion files.</p></li>
<li><p>Extended the documentation: Noted the need for a working
installation of a C compiler.</p></li>
<li><p>Extended the Windows target definitions and code to handle the
manifest files used by modern MS development environments. Note that
this code handles both possibilities, environment using manifests, and
(old(er)) environments without.</p></li>
<li><p>Extended the Windows 64bit target definitions and code to
auto-detect the need for the helper library &quot;bufferoverflowU.lib&quot; and
reconfigure the compile and link commands appropriately. We assume
that the library must be linked when present. This should be no harm
if the library is present, yet not needed. Just superfluous. We search
for the library in the paths specified by the environment variable
LIB.</p></li>
</ol>
</div>
<div id="section9" class="section"><h2><a name="section9">Changes for version 3.0.2</a></h2>
<ol class="enumerated">
<li><p>Fixed issue in compile-and-run mode where commands put into the
auto_index are not found by Tcl's [unknown] command.</p></li>
<li><p>Fixed an array key mismatch breaking usage of client data and
delete function for procedure. Reported by Jos DeCoster, with patch.</p></li>
<li><p>Implemented a command line option <b class="option">-L</b>, an equivalent of
option <b class="option">-I</b>, just for library search paths.</p></li>
<li><p>Fixed github issues 5 and 8. Working around a missing variable
::errorInfo. It should always be present, however there seem to be
revisions of Tcl around which violate this assumption.</p></li>
</ol>
</div>
<div id="section10" class="section"><h2><a name="section10">Changes for version 3.0.3</a></h2>
<ol class="enumerated">
<li><p>Fixed github issues 5 and 8, for the example build.tcl
scripts. Working around a missing variable ::errorInfo. It should
always be present, however there seem to be revisions of Tcl around
which violate this assumption.</p></li>
</ol>
</div>
<div id="section11" class="section"><h2><a name="section11">Changes for version 3.0.4</a></h2>
<ol class="enumerated">
<li><p>Fixed generation of the package's initname when the incoming
	code is read from stdin and has no proper path.</p></li>
<li><p>Fixed github issue 11. Now using /LIBPATH instead of -L
	on Windows (libinclude configuration setting).</p></li>
<li><p>Extended critcl to handle -l:path format of -l options.
	GNU ld 2.22+ handles this by searching for the path as
	is. Good when specifying static libraries, as plain -l looks
	for shared libraries in preference over static. critcl handles
	it now, as older GNU ld's do not understand it, nor the
	various vendor-specific linkers.</p></li>
<li><p>Fixed github issue #12. Critcl now determines the version of
	MSVC in use and uses it to switch between various link debug
	options. Simplified the handling of bufferoverflowU.lib also,
	making use of the same mechanism and collapsing the two
	configurations sections we had back into one.</p></li>
<li><p>Reworked the insertion of #line pragmas into the generated C
	code to avoid limitations on the line number argument imposed
	by various compilers, and be more accurate.</p></li>
<li><p>Modified argument processing. Option -libdir now also
	implies -L for its argument.</p></li>
<li><p>Extended handling of option -show (<b class="cmd">critcl::showconfig</b>)
	to list the path of the configuration file the data is coming
	from. Good for debugging configuration processing.</p></li>
<li><p>Extended the build script with targets to regenerate the
	embedded documentation, and diagrams, and to generate a
	release.</p></li>
</ol>
</div>
<div id="section12" class="section"><h2><a name="section12">Changes for version 3.0.5</a></h2>
<ol class="enumerated">
<li><p>Fixed bug in the new code for #line pragmas triggered when
	specifying C code without leading whitespace.</p></li>
<li><p>Extended the documentation to have manpages for the license,
	source retrieval, installer, and developer's guides.</p></li>
</ol>
</div>
<div id="section13" class="section"><h2><a name="section13">Changes for version 3.1</a></h2>
<ol class="enumerated">
<li><p>Extended the API for handling TEApot metadata. Added the
command <b class="cmd">critcl::meta?</b> to query the stored information. Main use
currently envisioned is retrieval of the current package's name by
utility command, for use in constructed names. This particular
information is always available due to the static scan of the package
file on execution of the first critcl command.</p></li>
<li><p>Extended the API with a command, <b class="cmd">critcl::name2c</b> exposing
the process of converting a Tcl name into base name, namespace, and C
namespace.</p></li>
<li><p>Extended the API with a command, <b class="cmd">critcl::source</b> executing
critcl commands in a separate file in the context of the current file,
allowing for easier management of larger bodies of code by splitting
it up.</p></li>
</ol>
</div>
<div id="section14" class="section"><h2><a name="section14">Authors</a></h2>
<p>Jean Claude Wippler, Steve Landers, Andreas Kupries</p>
</div>
<div id="section15" class="section"><h2><a name="section15">Bugs, Ideas, Feedback</a></h2>
<p>This document, and the package it describes, will undoubtedly contain
bugs and other problems.
Please report such at <a href="https://github.com/jcw/critcl">https://github.com/jcw/critcl</a>.
Please also report any ideas for enhancements you may have for either
package and/or documentation.</p>
</div>
<div id="keywords" class="section"><h2><a name="keywords">Keywords</a></h2>
<p><a href="../index.html#key8">C code</a>, <a href="../index.html#key3">Embedded C Code</a>, <a href="../index.html#key6">code generator</a>, <a href="../index.html#key0">compile &amp; run</a>, <a href="../index.html#key10">compiler</a>, <a href="../index.html#key1">dynamic code generation</a>, <a href="../index.html#key2">dynamic compilation</a>, <a href="../index.html#key9">generate package</a>, <a href="../index.html#key4">linker</a>, <a href="../index.html#key5">on demand compilation</a>, <a href="../index.html#key7">on-the-fly compilation</a></p>
</div>
<div id="category" class="section"><h2><a name="category">Category</a></h2>
<p>Glueing/Embedded C code</p>
</div>
<div id="copyright" class="section"><h2><a name="copyright">Copyright</a></h2>
<p>Copyright &copy; Jean-Claude Wippler<br>
Copyright &copy; Steve Landers<br>
Copyright &copy; 2011 Andreas Kupries</p>
</div>
</div></body></html>
